<link rel="import"
      href="libs/polymer/polymer.html">

<dom-module id="oskari-grid">

  <template strip-whitespace>
    <div class="oskari-grid oskari-grid-width" id="oskariGrid" style="margin: 0px; overflow-x: auto; overflow-y: hidden; display: block; max-width: 650px;">
      <div class="oskari-grid-width" id="oskari-grid-header" style="display:table-row-group">
        <div class="oskari-grid-width" style="display:table;">
          <div class="oskari-grid-width" style="display:table-row;">
            <template is="dom-if" if="[[selection]]" strip-whitespace>
              <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;"><input type="checkbox" disabled$="[[ie]]" checked="{{allSelected::change}}" on-change="allSelectedChanged"
                  id="allSelectedCheckbox"></input></div>
            </template>
            <template is="dom-repeat" items="[[headers]]" as="header" id="headersTemplate" strip-whitespace>
              <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;">
                <span on-tap="onSort" index="[[index]]" header="[[header]]">[[header.title]]</span>
                <template is="dom-if" if="[[filtering]]" strip-whitespace>
                  <template is="dom-if" if="[[header.filter]]" strip-whitespace>
                    <div on-tap="onFilter" class="icon-funnel" title="[[onFilterTitle]]"
                      index="[[index]]" header="[[header]]"></div>
                  </template>
                </template>
                <template is="dom-if" if="[[deleting]]" strip-whitespace>
                  <template is="dom-if" if="[[header.delete]]" strip-whitespace>
                    <div on-tap="onDelete" class="icon-close-dark statsgrid-remove-indicator"
                      title="[[onDeleteTitle]]" index="[[index]]" header="[[header]]"></div>
                  </template>
                </template>
              </div>
            </template>
            <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;">
              <div>
                <div class$="[[indicatorToggleClass]]" on-tap="toggleIndicators"></div>
                <div>[[locale.addIndicatorButton]]</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="oskari-grid-width" style="padding: 0px; border: 0px; display:block; overflow-x: hidden;">
        <div class="oskari-grid-width" style="display:row-group;">
        <div class="oskari-grid-width" id="statisticsContainer" style="display:table-row;">
          <div colspan$="[[numcols]]" class="oskari-grid-width" style="display:table-cell;">
            <span on-tap="toggleStats" class$="[[statsToggleClass]]"></span><span>[[locale.statistic.title]]</span>
          </div>
        </div>
        <div class="oskari-grid-width" style="display:table-row;"><div colspan$="[[numcols]]" class="oskari-grid-width" style="padding: 0px; border: 0px; display:table-cell;">
          <iron-collapse id="statsCollapse">
            <div class="oskari-grid-width" style="display:table;">
              <div id="oskari-grid-statistics" class="oskari-grid-width" style="display:block; margin: 0px; overflow-x: hidden;">
                <template is="dom-repeat" items="{{statsrows}}" as="statsrow" id="statsRowsTemplate" strip-whitespace>
                  <div class="oskari-grid-width" style="display:table-row;">
                    <template is="dom-repeat" items="[[statsrow.data]]" as="datum" strip-whitespace>
                      <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;">
                        <span>[[datum]]</span>
                      </div>
                    </template>
                    <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;"></div>
                  </div>
                </template>
              </div>
            </div>
          </iron-collapse>
        </div></div>
        </div>
      </div>
      <template is="dom-if" if="[[selection]]" strip-whitespace>
        <div class="oskari-grid-width" id="oskari-grid-unselected-container" style="display: block; overflow-y: scroll; overflow-x: hidden; max-height: 150px;">
          <div class="oskari-grid-width" id="unselectedContainer" style="display:table-row;">
            <div colspan$="[[numcols]]" class="oskari-grid-width" style="display:table-cell;">
              <span on-tap="toggleUnselected" class$="[[unselectedToggleClass]]"></span><span>[[locale.not_included]] ([[numExcluded]])</span>
            </div>
          </div>
          <div class="oskari-grid-width" style="display:table-row;"><div colspan$="[[numcols]]" class="oskari-grid-width" style="padding: 0px; border: 0px;display:table-cell;">
            <iron-collapse id="unselectedCollapse">
              <div class="oskari-grid-width" style="margin: 0px;display:table;">
                <div id="oskari-grid-unselected" class="oskari-grid-width" style="display: block; overflow-y: scroll; overflow-x: hidden;">
                  <template is="dom-repeat" items="{{unselectedRows}}" as="unselectedRow" id="unselected-rows-template" strip-whitespace>
                    <div class="oskari-grid-width" style="display:table-row;">
                      <div style="width: 41px;display:table-cell;padding:5px;border:1px solid #e6e6e6;"><input type="checkbox" disabled$="[[ie]]" checked="{{unselectedRow.selected::change}}" on-change="selectionsChanged"></input></div>
                      <template is="dom-repeat" items="[[unselectedRow.data]]" as="datum" strip-whitespace>
                        <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;">
                          <span>[[datum]]</span>
                        </div>
                      </template>
                      <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;"></div>
                    </div>
                  </template>
                </div>
              </div>
            </iron-collapse>
          </div></div>
        </div>
      </template>
      <div class="oskari-grid-width" id="oskari-grid-selected-container" style="display: block; overflow-y: hidden; overflow-x: hidden;">
        <div class="oskari-grid-width" id="selectedContainer" style="display:table-row;">
          <div colspan$="[[numcols]]" class="oskari-grid-width" style="display:table-cell;">
            <span on-tap="toggleSelected" class$="[[selectedToggleClass]]"></span><span>[[locale.included]] ([[numIncluded]])</span>
          </div>
        </div>
        <div class="oskari-grid-width" style="display:table-row;"><div colspan$="[[numcols]]" class="oskari-grid-width" style="padding: 0px; border: 0px; display:table-cell;">
          <iron-collapse id="selectedCollapse" opened="true">
            <div class="oskari-grid-width" style="margin: 0px;display:table;">
              <div id="oskari-grid-body" class="oskari-grid-width" style="display: block; overflow-y: scroll; overflow-x: hidden;">
                <template is="dom-repeat" items="[[selectedRows]]" as="row" id="rowsTemplate" strip-whitespace>
                  <div class="oskari-grid-width" style="display:table-row;">
                    <template is="dom-if" if="[[selection]]" strip-whitespace>
                      <div style="width: 41px;display:table-cell;padding:5px;border:1px solid #e6e6e6;"><input type="checkbox" disabled$="[[ie]]" checked="{{row.selected::change}}" on-change="selectionsChanged"></input></div>
                    </template>
                    <template is="dom-repeat" items="[[row.data]]" as="datum" strip-whitespace>
                      <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;">
                        <span>[[datum]]</span>
                      </div>
                    </template>
                    <div style="display:table-cell;padding:5px;border:1px solid #e6e6e6;"></div>
                  </div>
                </template>
              </div>
            </div>
          </iron-collapse>
        </div></div>
      </div>
    </div>
    <content></content>
  </template>

  <script src="polymerjs/oskari-grid.js">
  </script>

</dom-module>

